#!/usr/bin/env python3
"""–¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–∑–±–∏–≤–∫–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π"""

import sys
sys.path.append('.')

from bot import AILearningBot

def test_message_splitting():
    bot = AILearningBot()
    
    # –°–æ–∑–¥–∞–µ–º –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    long_text = """
**üìñ –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

_–≠—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–º—ã, –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª–∏–Ω–Ω—ã–º –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏._

‚è±Ô∏è **–í—Ä–µ–º—è –∏–∑—É—á–µ–Ω–∏—è:** 1-2 –¥–Ω—è
üìä **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω–∏–π

**üìö –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:**

**–í–≤–µ–¥–µ–Ω–∏–µ –≤ —Ç–µ–º—É**
–≠—Ç–æ –æ—á–µ–Ω—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–±—ä—è—Å–Ω—è–µ—Ç –æ—Å–Ω–æ–≤—ã —Ç–µ–º—ã. """ + "–ê" * 2000 + """

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**
1. –ü–µ—Ä–≤–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è
2. –í—Ç–æ—Ä–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è  
3. –¢—Ä–µ—Ç—å—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

**–ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –∏–∑—É—á–µ–Ω–∏—è:**
1. –ò–∑—É—á–∏—Ç–µ —Ç–µ–æ—Ä–∏—é
2. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

**üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
‚Ä¢ **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://example.com)
‚Ä¢ **GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:** [–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://github.com/example)
‚Ä¢ **–°—Ç–∞—Ç—å–∏:** [–°—Ç–∞—Ç—å—è](https://medium.com/example)

**üé• –í–∏–¥–µ–æ –∏ –∫—É—Ä—Å—ã:**
‚Ä¢ **YouTube –≤–∏–¥–µ–æ:** [–ö–∞–Ω–∞–ª - –í–∏–¥–µ–æ](https://youtube.com/watch)
‚Ä¢ **–û–Ω–ª–∞–π–Ω –∫—É—Ä—Å—ã:** [–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ - –ö—É—Ä—Å](https://course.com)

**üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã:**

**–ü—Ä–∏–º–µ—Ä 1:**
```python
# –≠—Ç–æ –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞
def example_function():
    return "Hello World"
```

–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞. """ + "–ë" * 3000 + """

**–ü—Ä–∏–º–µ—Ä 2:**
–ï—â–µ –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º.
    """
    
    print(f"üìè –î–ª–∏–Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞: {len(long_text)} —Å–∏–º–≤–æ–ª–æ–≤")
    print(f"üìè –õ–∏–º–∏—Ç Telegram: 4096 —Å–∏–º–≤–æ–ª–æ–≤")
    
    parts = bot._split_long_message(long_text)
    
    print(f"üî¢ –†–∞–∑–±–∏—Ç–æ –Ω–∞ {len(parts)} —á–∞—Å—Ç–µ–π:")
    for i, part in enumerate(parts, 1):
        print(f"  –ß–∞—Å—Ç—å {i}: {len(part)} —Å–∏–º–≤–æ–ª–æ–≤")
        if len(part) > 4096:
            print(f"    ‚ùå –ü–†–ï–í–´–®–ï–ù –õ–ò–ú–ò–¢!")
        else:
            print(f"    ‚úÖ –í –ø—Ä–µ–¥–µ–ª–∞—Ö –ª–∏–º–∏—Ç–∞")
    
    # –ü–æ–∫–∞–∂–µ–º –ø–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤ –∫–∞–∂–¥–æ–π —á–∞—Å—Ç–∏
    print("\nüìù –ü—Ä–µ–≤—å—é —á–∞—Å—Ç–µ–π:")
    for i, part in enumerate(parts, 1):
        preview = part[:200].replace('\n', '\\n')
        print(f"  –ß–∞—Å—Ç—å {i}: {preview}...")

if __name__ == '__main__':
    test_message_splitting()
